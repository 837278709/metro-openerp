<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="account_rptcn_view" model="ir.ui.view">
            <field name="name">Account Report China</field>
            <field name="model">account.rptcn</field>
            <field name="arch" type="xml">
            <form string="Report Options" version="7.0">
				<div class="oe_right oe_button_box" name="buttons">
                    	<field name="show_search"/>
                    	<button name="run_report" string="Search" type="object" default_focus="1" class="oe_highlight"/>
				</div>
                <group attrs="{'invisible':[('show_search','!=',True)]}">
	                <group>
						<field name="company_id" groups="base.group_multi_company" widget="selection"/>
						<field name="filter" on_change="onchange_filter(filter, company_id)" invisible="1"/>
                        <label for="date_from" string="Dates" attrs="{'invisible':[('filter','!=','filter_date')]}"/>
                        <div attrs="{'invisible':[('filter','!=','filter_date')]}">
					    <field name="date_from" domain="[('company_id', '=', company_id)]" attrs="{'required':[('filter', '=', 'filter_date')]}" class="oe_inline"/> -
					    <field name="date_to" domain="[('company_id', '=', company_id)]" attrs="{'required':[('filter', '=', 'filter_date')]}" class="oe_inline"/>  
                        </div>	
                        
                        <label for="period_from" string="Periods" attrs="{'invisible':[('filter','!=','filter_period')]}"/>
                        <div attrs="{'invisible':[('filter','!=','filter_period')]}">
					    <field name="period_from" domain="[('company_id', '=', company_id)]" attrs="{'required':[('filter', '=', 'filter_period')]}" class="oe_inline"/> -
					    <field name="period_to" domain="[('company_id', '=', company_id)]" attrs="{'required':[('filter', '=', 'filter_period')]}" class="oe_inline"/>  
                        </div>					
	                </group>
	                <group>
						<field name="target_move"/>
						<field name="rpt_type"/>		
	                </group>
	                <group colspan="4">
						<field name="account_ids" domain="[('company_id', '=', company_id)]">
							<tree>
								<field name="code"/>
								<field name="name"/>
                    			<field name="type"/>
                    			<field name="user_type"/>
                    			<field name="bal_direct"/>
							</tree>
						</field>
	                </group>
                </group>
                <label for="rpt_lines"/>
				<field name="rpt_lines" readonly="1">
					<tree editable="bottom">
						<!-- <field name="seq"/> -->
						<field name="code"/>
						<field name="name"/>
						<field name="period_id"/>
						<field name="notes"/>
						<field name="debit"/>
						<field name="credit"/>
						<field name="bal_direct"/>
						<field name="balance"/>
					</tree>
				</field>		
            </form>
            </field>
        </record>

        <record id="action_account_rptcn" model="ir.actions.act_window">
            <field name="name">Account Report China</field>
            <field name="res_model">account.rptcn</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="account_rptcn_view"/>
            <field name="limit">3000</field>
            <field name="target">inline</field>
        </record>
        <menuitem
            parent="account.menu_finance_charts"
            action="action_account_rptcn"
            groups="account.group_account_manager,account.group_account_user"
            id="menu_account_rptcn"
           />        
    </data>
</openerp>
